**ุฑุงูููุง ุฌุงูุน ุฏูพูู ูพุฑูฺู Ma2tA**

---

### **ฑ. ุงูุชุฎุงุจ ูพูุชูุฑู ูุฒุจุงู**
- **ฺฏุฒููโูุง ูุญุจูุจ:**  
  - **ุณุฑูุฑ ุงุจุฑ:** AWS, DigitalOcean, Google Cloud, Hetzner  
  - **ูพูุชูุฑูโูุง ูุฏุฑุช ุดุฏู:** Heroku, Railway, Render  
  - **ูุงุณุชูฺฏ ุงุฎุชุตุงุต:** VPS ุง ุณุฑูุฑ ุงุฎุชุตุงุต  

---

### **ฒ. ุขูุงุฏูโุณุงุฒ ุณุฑูุฑ**
#### **ุงูู) ุงุฌุงุฏ ุณุฑูุฑ (ูุซุงู: Ubuntu 22.04)**
1. **ุงุชุตุงู ุจู ุณุฑูุฑ ุงุฒ ุทุฑู SSH:**
   ```bash
   ssh root@your-server-ip
   ```

2. **ุจูโุฑูุฒุฑุณุงู ุณุณุชู:**
   ```bash
   sudo apt update && sudo apt upgrade -y
   ```

3. **ูุตุจ Docker ู Docker Compose:**
   ```bash
   sudo apt install docker.io docker-compose
   sudo systemctl enable docker
   sudo systemctl start docker
   ```

---

### **ณ. ุชูุธูุงุช ูพุฑูฺู ุจุฑุง Production**
#### **ุงูู) ุชุบุฑุงุช ุฏุฑ ฺฉุฏ**
1. **ุบุฑูุนุงู ฺฉุฑุฏู ุญุงูุช Debug (ุจฺฉโุงูุฏ):**
   ```env
   # ูุงู .env
   GIN_MODE=release
   ```

2. **ุงุณุชูุงุฏู ุงุฒ ุฏุชุงุจุณ Production (PostgreSQL):**
   ```env
   DB_HOST=postgres
   DB_PORT=5432
   DB_USER=ma2ta
   DB_PASSWORD=your_secure_password
   DB_NAME=ma2ta
   ```

3. **ุชูุธูุงุช ูุฑุงูุชโุงูุฏ (ุชุบุฑ ุขุฏุฑุณ API):**
   ```env
   VITE_API_URL=https://api.ma2ta.com
   ```

---

### **ด. ุฏูพูู ุจุง Docker Compose**
1. **ุงุฏุงุฑู ูุงู `docker-compose.prod.yml`:**
   ```yaml
   version: '3.8'

   services:
     postgres:
       image: postgres:15
       volumes:
         - postgres_data:/var/lib/postgresql/data
       environment:
         POSTGRES_USER: ma2ta
         POSTGRES_PASSWORD: your_secure_password
         POSTGRES_DB: ma2ta

     backend:
       build: ./backend
       ports:
         - "8080:8080"
       environment:
         - GIN_MODE=release
         - DB_HOST=postgres
         - DB_PORT=5432
         - DB_USER=ma2ta
         - DB_PASSWORD=your_secure_password
         - DB_NAME=ma2ta
       depends_on:
         - postgres

     frontend:
       build: ./frontend
       ports:
         - "80:3000"

     nginx:
       image: nginx:alpine
       ports:
         - "80:80"
         - "443:443"
       volumes:
         - ./nginx.conf:/etc/nginx/nginx.conf
         - ./ssl:/etc/nginx/ssl
       depends_on:
         - backend
         - frontend

   volumes:
     postgres_data:
   ```

2. **ุณุงุฎุช ู ุงุฌุฑุง ฺฉุงูุชูุฑูุง:**
   ```bash
   docker-compose -f docker-compose.prod.yml up -d --build
   ```

---

### **ต. ุชูุธู Nginx ุจู ุนููุงู Reverse Proxy**
1. **ูุงู `nginx.conf`:**
   ```nginx
   events {}

   http {
       server {
           listen 80;
           server_name ma2ta.com www.ma2ta.com;

           location / {
               proxy_pass http://frontend:3000;
           }

           location /api {
               proxy_pass http://backend:8080;
               proxy_set_header Host $host;
           }
       }

       # HTTPS Configuration (ูพุณ ุงุฒ ุฏุฑุงูุช SSL)
       server {
           listen 443 ssl;
           server_name ma2ta.com www.ma2ta.com;

           ssl_certificate /etc/nginx/ssl/fullchain.pem;
           ssl_certificate_key /etc/nginx/ssl/privkey.pem;

           location / {
               proxy_pass http://frontend:3000;
           }

           location /api {
               proxy_pass http://backend:8080;
               proxy_set_header Host $host;
           }
       }
   }
   ```

---

### **ถ. ูุนุงูโุณุงุฒ HTTPS ุจุง Let's Encrypt**
1. **ูุตุจ Certbot:**
   ```bash
   sudo apt install certbot python3-certbot-nginx
   ```

2. **ุฏุฑุงูุช ฺฏูุงู SSL:**
   ```bash
   sudo certbot --nginx -d ma2ta.com -d www.ma2ta.com
   ```

3. **ุชุณุช ุชูุฏุฏ ุฎูุฏฺฉุงุฑ:**
   ```bash
   sudo certbot renew --dry-run
   ```

---

### **ท. ุชูุธู CI/CD ุจุง GitHub Actions**
1. **ูุงู `.github/workflows/deploy.yml`:**
   ```yaml
   name: Deploy to Production

   on:
     push:
       branches: [main]

   jobs:
     deploy:
       runs-on: ubuntu-latest
       steps:
         - name: Checkout code
           uses: actions/checkout@v3

         - name: Deploy with Docker Compose
           uses: appleboy/ssh-action@master
           with:
             host: your-server-ip
             username: root
             key: ${{ secrets.SSH_PRIVATE_KEY }}
             script: |
               cd /opt/ma2ta
               git pull
               docker-compose -f docker-compose.prod.yml up -d --build
   ```

---

### **ธ. Backup ู ุจุงุฒุงุจ**
#### **ุงูู) Backup ุฏุชุงุจุณ**
```bash
# Backup ุฑูุฒุงูู
docker exec ma2ta-postgres pg_dump -U ma2ta -d ma2ta > backup.sql
```

#### **ุจ) ุจุงุฒุงุจ ุฏุชุงุจุณ**
```bash
cat backup.sql | docker exec -i ma2ta-postgres psql -U ma2ta -d ma2ta
```

---

### **น. ูุงูุชูุฑูฺฏ ู Logging**
- **Prometheus + Grafana:** ูุงูุชูุฑูฺฏ ููุงุจุน ุณุฑูุฑ ู ุจุฑูุงูู  
- **ELK Stack (Elasticsearch, Logstash, Kibana):** ูุฏุฑุช ูุงฺฏโูุง  
- **Uptime Robot:** ูุงูุชูุฑูฺฏ ุขูพุชุงู  

---

### **ฑฐ. ุจูููโุณุงุฒ ุงููุช**
1. **ูุงุฑูุงู (UFW):**
   ```bash
   sudo ufw allow 22/tcp   # SSH
   sudo ufw allow 80/tcp   # HTTP
   sudo ufw allow 443/tcp  # HTTPS
   sudo ufw enable
   ```

2. **ุบุฑูุนุงู ฺฉุฑุฏู ูุฑูุฏ ุจุง ุฑูุฒ ุนุจูุฑ (SSH):**
   ```bash
   sudo nano /etc/ssh/sshd_config
   # ุชุบุฑ PermitRootLogin ุจู no
   # ุชุบุฑ PasswordAuthentication ุจู no
   sudo systemctl restart sshd
   ```

---

### **ูุดฺฉูุงุช ุฑุงุฌ ู ุฑุงูโุญูโูุง**
#### **ฑ. ุฎุทุง `Connection refused` ุฏุฑ API**
- **ุนูุช:** ุจฺฉโุงูุฏ ุงุฌุฑุง ูุดุฏู ุง ูพูุฑุช ูุณุฏูุฏ ุงุณุช.  
- **ุฑุงูโุญู:**  
  ```bash
  docker-compose logs backend
  sudo ufw allow 8080
  ```

#### **ฒ. ุฎุทุง SSL ุฏุฑ ูุฑูุฑฺฏุฑ**
- **ุนูุช:** ฺฏูุงู SSL ูููุถ ุง ูุงุฏุฑุณุช.  
- **ุฑุงูโุญู:**  
  ```bash
  sudo certbot renew --force-renewal
  docker-compose restart nginx
  ```

---

**ูพุงุงู!**  
ูพุฑูฺู ุดูุง ุงฺฉููู ุฏุฑ ูุญุท Production ูุงุจู ุฏุณุชุฑุณ ุงุณุช! ๐  
ุจุฑุง ูพุดุชุจุงู ูู ูโุชูุงูุฏ ุงุฒ [ูุณุชูุฏุงุช ูพุฑูฺู](https://github.com/yourusername/Ma2tA/wiki) ุงุณุชูุงุฏู ฺฉูุฏ.